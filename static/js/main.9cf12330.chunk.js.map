{"version":3,"sources":["InventoryListLocalStorage.js","index.js"],"names":["InventoryListLocalStorage","initialList","JSON","parse","window","localStorage","getItem","useState","rowDataArray","setRowDataArray","updateRow","oneRow","qty","updatedRow","name","id","updatedItems","map","row","removeRow","filter","useEffect","setItem","stringify","className","InputForm","addNewRow","item","uuid","ListRow","remove","update","Footer","initialVal","state","setState","useToggle","isEditing","toggle","EditRowForm","aria-label","onClick","useInputState","handleNameChange","resetNameField","handleQtyChange","resetQtyField","textInput","React","createRef","onSubmit","e","preventDefault","current","focus","type","value","placeholder","onChange","label","autoFocus","ref","handleChange","reset","setValue","target","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yQAWe,SAASA,IAGtB,IAAMC,EAAcC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,SAAW,MAHpB,EAOVC,mBAASN,GAPC,mBAO3CO,EAP2C,KAO7BC,EAP6B,KAwBlD,SAASC,EAAUC,EAAQC,GAEzB,IAAMC,EAAa,CAAEC,KAAMH,EAAOG,KAAMF,IAAKA,EAAKG,GAAIJ,EAAOI,IAEvDC,EAAeR,EAAaS,KAAI,SAACC,GACrC,OAAIA,EAAIH,KAAOJ,EAAOI,GACbF,EAEFK,KAETT,EAAgBO,GAGlB,SAASG,EAAUJ,GAEjB,IAAMC,EAAeR,EAAaY,QAAO,SAACF,GAAD,OAASA,EAAIH,KAAOA,KAC7DN,EAAgBO,GAGlB,OAhCAK,qBAAU,WACRjB,OAAOC,aAAaiB,QAAQ,OAAQpB,KAAKqB,UAAUf,MAClD,CAACA,IA+BF,gCACE,sBAAKgB,UAAU,UAAf,UACE,mEACA,cAACC,EAAD,CAAWC,UAhCjB,SAAmBC,EAAMf,GAEvB,IAAMI,EAAY,sBACbR,GADa,CAEhB,CAAEM,KAAMa,EAAMf,IAAKA,EAAKG,GAAIa,iBAE9BnB,EAAgBO,IA0BqBQ,UAAU,cAC3C,qBAAKA,UAAU,gBAAf,SACE,6BACGhB,EAAaS,KAAI,SAACN,GAAD,OAChB,6BACE,cAACkB,EAAD,CACElB,OAAQA,EACRmB,OAAQX,EACRY,OAAQrB,KAJHC,EAAOI,cAWxB,cAACiB,EAAD,OAUN,SAASH,EAAT,GAA8C,IAA3BlB,EAA0B,EAA1BA,OAAQmB,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,OAAU,EAoG7C,WAAwC,IAArBE,EAAoB,0DACX1B,mBAAS0B,GADE,mBAC9BC,EAD8B,KACvBC,EADuB,KAGrC,MAAO,CAACD,EADO,kBAAMC,GAAUD,KArGHE,EAAU,GADK,mBACpCC,EADoC,KACzBC,EADyB,KAE3C,OACE,8BACGD,EACC,cAACE,EAAD,CAAa5B,OAAQA,EAAQoB,OAAQA,EAAQO,OAAQA,IAGrD,iCACE,iCACG3B,EAAOG,KADV,MACmBH,EAAOC,OAE1B,uBAAMY,UAAU,cAAhB,UACE,wBACEA,UAAU,SACVgB,aAAW,SACXC,QAAS,kBAAMX,EAAOnB,EAAOI,KAH/B,oBAOA,wBAAQS,UAAU,SAASgB,aAAW,OAAOC,QAASH,EAAtD,0BAYZ,SAASb,EAAT,GAAmC,IAAdC,EAAa,EAAbA,UAAa,EACiBgB,EAAc,IAD/B,mBACzB5B,EADyB,KACnB6B,EADmB,KACDC,EADC,OAEcF,EAAc,IAF5B,mBAEzB9B,EAFyB,KAEpBiC,EAFoB,KAEHC,EAFG,KAM1BC,EAAYC,IAAMC,YAGxB,OACE,uBACEzB,UAAU,YACV0B,SAAU,SAACC,GACTA,EAAEC,iBACF1B,EAAUZ,EAAMF,GAChBgC,IACAE,IATcC,EAAUM,QAAQC,SAGpC,UAUE,uBACEC,KAAK,OACLC,MAAO1C,EACP2C,YAAY,qBACZC,SAAUf,EACVgB,MAAM,eACNC,WAAS,EACTC,IAAKd,IAEP,uBACEQ,KAAK,OACLC,MAAO5C,EACP6C,YAAY,oBACZC,SAAUb,EACVc,MAAM,qBAER,wBAAQJ,KAAK,SAAb,6BAMN,SAAShB,EAAT,GAAkD,IAA3B5B,EAA0B,EAA1BA,OAAQoB,EAAkB,EAAlBA,OAAQO,EAAU,EAAVA,OAAU,EACVI,EAAc/B,EAAOC,KADX,mBACxC4C,EADwC,KACjCM,EADiC,KACnBC,EADmB,KAE/C,OACE,uBACEvC,UAAU,YACV0B,SAAU,SAACC,GACTA,EAAEC,iBACFrB,EAAOpB,EAAQ6C,GACfO,IACAzB,KANJ,UASG3B,EAAOG,KACR,uBACEyC,KAAK,OACLC,MAAOA,EACPE,SAAUI,EACVH,MAAM,kBACNC,WAAW,IAff,2BA+BJ,SAASlB,EAAcT,GAAa,IAAD,EACP1B,mBAAS0B,GADF,mBAC1BuB,EAD0B,KACnBQ,EADmB,KAIjC,MAAO,CAACR,EAFa,SAACL,GAAD,OAAOa,EAASb,EAAEc,OAAOT,QAChC,kBAAMQ,EAAS,MAI/B,SAAShC,IACP,OACE,oBAAGR,UAAU,SAAb,qGAEkB,IAChB,mBAAG0C,KAAK,4DAAR,uEAHF,iBAMiB,IACf,mBAAGA,KAAK,4DAAR,uEAPF,OClMJC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACrE,EAAD,MAEFsE,SAASC,eAAe,W","file":"static/js/main.9cf12330.chunk.js","sourcesContent":["// This React app maintains a simple inventory list.\r\n// The design goal was to put all of the functions in\r\n// a single file to help study how they work.\r\n// Local storage is used in this version.\r\n// by John Phillips on 2021-02-17 revised 2021-02-17\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport \"./Style.css\";\r\n\r\n// ***** Main function *******************************************************\r\nexport default function InventoryListLocalStorage() {\r\n  // Grab any existing list data from the browser local storage. If none exist,\r\n  // then set the list to be an empty array.\r\n  const initialList = JSON.parse(window.localStorage.getItem(\"list\") || \"[]\");\r\n\r\n  // Create the state array and a function to change the data.\r\n  // rowDataArray contains all of our list data organized by row.\r\n  const [rowDataArray, setRowDataArray] = useState(initialList);\r\n\r\n  // Any time rowDataArray changes then this hook will automatically be called\r\n  // to update the local storage.\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"list\", JSON.stringify(rowDataArray));\r\n  }, [rowDataArray]);\r\n\r\n  function addNewRow(item, qty) {\r\n    // make a new array out of all the existing elements plus a new one\r\n    const updatedItems = [\r\n      ...rowDataArray,\r\n      { name: item, qty: qty, id: uuid() },\r\n    ];\r\n    setRowDataArray(updatedItems);\r\n  }\r\n\r\n  function updateRow(oneRow, qty) {\r\n    // just update qty and leave name and id as is\r\n    const updatedRow = { name: oneRow.name, qty: qty, id: oneRow.id };\r\n    // check each row for the matching id and if found return the updated row\r\n    const updatedItems = rowDataArray.map((row) => {\r\n      if (row.id === oneRow.id) {\r\n        return updatedRow;\r\n      }\r\n      return row;\r\n    });\r\n    setRowDataArray(updatedItems);\r\n  }\r\n\r\n  function removeRow(id) {\r\n    // filter out any row where the ids don't match\r\n    const updatedItems = rowDataArray.filter((row) => row.id !== id);\r\n    setRowDataArray(updatedItems);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"Wrapper\">\r\n        <h1>Inventory List With Local Storage</h1>\r\n        <InputForm addNewRow={addNewRow} className=\"InputForm\" />\r\n        <div className=\"ListContainer\">\r\n          <ul>\r\n            {rowDataArray.map((oneRow) => (\r\n              <li key={oneRow.id}>\r\n                <ListRow\r\n                  oneRow={oneRow}\r\n                  remove={removeRow}\r\n                  update={updateRow}\r\n                />\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n// ***** End Main function ***************************************************\r\n// export default InventoryListNoStorage;\r\n\r\n// Displays a single row of data with delete and edit buttons.\r\n// It needs to be a separate function so that each row can\r\n// have its own isEditing toggle.\r\nfunction ListRow({ oneRow, remove, update }) {\r\n  const [isEditing, toggle] = useToggle(false);\r\n  return (\r\n    <div>\r\n      {isEditing ? (\r\n        <EditRowForm oneRow={oneRow} update={update} toggle={toggle} />\r\n      ) : (\r\n        // span to wrap elements and later add style\r\n        <span>\r\n          <span>\r\n            {oneRow.name} : {oneRow.qty}\r\n          </span>\r\n          <span className=\"ButtonGroup\">\r\n            <button\r\n              className=\"Button\"\r\n              aria-label=\"Delete\"\r\n              onClick={() => remove(oneRow.id)}\r\n            >\r\n              Delete\r\n            </button>\r\n            <button className=\"Button\" aria-label=\"Edit\" onClick={toggle}>\r\n              Edit\r\n            </button>\r\n          </span>\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// display's empty item name and qty text fields; when submitted it\r\n// adds a new row to the data array\r\nfunction InputForm({ addNewRow }) {\r\n  const [name, handleNameChange, resetNameField] = useInputState(\"\");\r\n  const [qty, handleQtyChange, resetQtyField] = useInputState(\"\");\r\n\r\n  // next 2 lines enable the focus to return to the first textbox\r\n  // after the 'add new item' button is clicked\r\n  const textInput = React.createRef();\r\n  const focus = () => textInput.current.focus();\r\n\r\n  return (\r\n    <form\r\n      className=\"InputForm\"\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        addNewRow(name, qty);\r\n        resetNameField();\r\n        resetQtyField();\r\n        focus(); // returns focus to first textbox after submit\r\n      }}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        value={name}\r\n        placeholder=\"Type new item name\"\r\n        onChange={handleNameChange}\r\n        label=\"Add New Item\"\r\n        autoFocus\r\n        ref={textInput} // returns focus to first textbox after submit\r\n      />\r\n      <input\r\n        type=\"text\"\r\n        value={qty}\r\n        placeholder=\"Type new quantity\"\r\n        onChange={handleQtyChange}\r\n        label=\"Add New Quantity\"\r\n      />\r\n      <button type=\"submit\">Add new item</button>\r\n    </form>\r\n  );\r\n}\r\n\r\n// allows user to update an item's quantity\r\nfunction EditRowForm({ oneRow, update, toggle }) {\r\n  const [value, handleChange, reset] = useInputState(oneRow.qty);\r\n  return (\r\n    <form\r\n      className=\"InputForm\"\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        update(oneRow, value);\r\n        reset();\r\n        toggle();\r\n      }}\r\n    >\r\n      {oneRow.name}\r\n      <input\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={handleChange}\r\n        label=\"Update quantity\"\r\n        autoFocus={true}\r\n      />\r\n      Press Enter to Update\r\n    </form>\r\n  );\r\n}\r\n\r\n// utility function to toggle a state from false to true and back\r\nfunction useToggle(initialVal = false) {\r\n  const [state, setState] = useState(initialVal);\r\n  const toggle = () => setState(!state);\r\n  return [state, toggle];\r\n}\r\n\r\n// utility functions to fill in a text field as the user types;\r\n// resets the text field to \"\" after the user presses enter\r\nfunction useInputState(initialVal) {\r\n  const [value, setValue] = useState(initialVal);\r\n  const handleChange = (e) => setValue(e.target.value);\r\n  const reset = () => setValue(\"\");\r\n  return [value, handleChange, reset];\r\n}\r\n\r\nfunction Footer() {\r\n  return (\r\n    <p className=\"Footer\">\r\n      Simple Inventory List with local storage by John Phillips on Febuary 17,\r\n      2021. Source at{\" \"}\r\n      <a href=\"https://github.com/profphillips/inventorylistlocalstorage\">\r\n        https://github.com/profphillips/inventorylistlocalstorage\r\n      </a>\r\n      . Live page at{\" \"}\r\n      <a href=\"https://profphillips.github.io/inventorylistlocalstorage/\">\r\n        https://profphillips.github.io/inventorylistlocalstorage/\r\n      </a>\r\n      .\r\n    </p>\r\n  );\r\n}\r\n\r\n// ***** End Of File *********************************************************\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport InventoryListLocalStorage from \"./InventoryListLocalStorage\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <InventoryListLocalStorage />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}